function SupportsGeolocation(){return"geolocation"in navigator}function GetLocation(){SupportsGeolocation()?navigator.geolocation.getCurrentPosition(ShowPosition):ShowMessage("Geolocation is not supported by this browser")}function ShowPosition(n){coords=new google.maps.LatLng(n.coords.latitude,n.coords.longitude);curLat=n.coords.latitude;curLong=n.coords.longitude;GetWeather()}function MyMap(){var n=new google.maps.LatLng(42.9446,-81.2108),t=new google.maps.Map(document.getElementById("myMap"),{zoom:8,center:n,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#D59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#596270"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]}),i=new google.maps.Marker({position:n,map:t,icon:"../images/mapIcon.png",title:"Pooch-Patrol, Main Base"}),i=new google.maps.Marker({position:coords,map:t,title:"You Are Here"})}function GetWeather(){var r=new XMLHttpRequest,t,i,u;r.open("GET","http://api.openweathermap.org/data/2.5/weather?lat="+curLat+"&lon="+curLong+"&APPID=0c9b70a5d03a96a99d87b1a0177becbe&units=metric",!1);r.send(r.responseText);var n=r.responseText,t=n.indexOf("main",0)+7,i=n.indexOf('"',t);mainWeather=n.substring(t,i);t=n.indexOf("temp",0)+6;i=n.indexOf(",",t);currentTemp=n.substring(t,i);t=n.indexOf("name",0)+7;i=n.indexOf('"',t);city=n.substring(t,i);t=n.indexOf("country",0)+10;i=n.indexOf('"',t);country=n.substring(t,i);t=n.indexOf("description",0)+14;i=n.indexOf('"',t);weatherDesc=n.substring(t,i);t=n.indexOf("icon",0)+7;i=n.indexOf('"',t);weatherIcon=n.substring(t,i);u="http://openweathermap.org/img/w/"+weatherIcon+".png";$("#weatherIcon").attr("src",u);$("#weatherDesc").html(weatherDesc);$("#weatherTemp").html(currentTemp+"&deg;C");$("#weatherCityCountry").html(city+" , "+country);DrawSky();MyMap()}function DrawSky(){var n,t,r,f,s,i;if(cloudTimerOn==!0&&clearInterval(moveCloud),thunderTimerOn==!0&&clearInterval(moveCloud),n=document.getElementById("backgroundCanvas"),n.width=window.innerWidth,n.height=300,t=n.getContext("2d"),mainWeather=="Clear"){var e=n.width,o=n.height-80,h=Math.round(e+o);for(r=0;r<=h;r++){var c=Math.floor(Math.random()*e+1),l=Math.floor(Math.random()*o+1),u=Math.floor(Math.random()*2+1),a=Math.floor(Math.random()*9+1),v=Math.floor(Math.random()*9+1),y=Math.floor(Math.random()*360+1);u>1&&(t.shadowBlur=Math.floor(Math.random()*15+5),t.shadowColor="#FFF");t.fillStyle="hsla("+y+", 30%, 80%, ."+a+v+")";t.fillRect(c,l,u,u)}}(mainWeather=="Snow"||mainWeather=="Rain"||mainWeather=="Drizzle")&&(n.style.background="linear-gradient(#7c8587 30%, #1a1b1c)");f=0;t.shadowBlur="1";s=n.width/20;i=document.createElement("img");i.src="../images/cornStalk.png";i.onload=function(){for(var n=0;n<s;n++)t.drawImage(i,f,210,30,80),f+=20};DrawFence()}function DrawFence(){var t=document.getElementById("middleCanvas"),i;t.width=window.innerWidth;t.height=300;var n=t.getContext("2d"),u=t.width/50,r=0;if(mainWeather=="Snow"?(n.fillStyle="#dfe6e8",n.fillRect(0,280,t.width,20),document.getElementById("footerContainer").style.background="#dfe6e8",document.getElementById("footerContainer").style.color="#222",document.getElementById("footerContainer").style.fontWeight="bold",document.getElementById("footerContainer").style.fontSize="1.2em"):(n.fillStyle="#264508",n.fillRect(0,280,t.width,20),document.getElementById("footerContainer").style.background="#264508",document.getElementById("footerContainer").style.color="#CCC",document.getElementById("footerContainer").style.fontWeight="bold",document.getElementById("footerContainer").style.fontSize="1.2em"),n.fillStyle="#99430e",n.strokeStyle="#401b04",n.fillRect(0,240,t.width,10),n.fillRect(0,260,t.width,10),mainWeather=="Snow")for(n.fillStyle="#CCC",n.strokeStyle="",n.fillRect(0,235,t.width,5),n.fillRect(0,255,t.width,5),i=0;i<u;i++)n.fillStyle="#99430e",n.strokeStyle="#401b04",n.fillRect(r,230,10,50),n.fillStyle="#CCC",n.fillRect(r,225,10,5),r+=50;else for(i=0;i<u;i++)n.fillStyle="#99430e",n.strokeStyle="#401b04",n.fillRect(r,230,10,50),r+=50;mainWeather=="Clouds"?DrawClouds(-100,200,-50,300,-800,600):mainWeather=="Thunderstorm"?DrawThunder(-100,200,-50,300,-800,600):mainWeather=="Drizzle"?DrawDrizzleRain():mainWeather=="Rain"?DrawRain():mainWeather=="Snow"&&DrawSnow()}function DrawClouds(n,t,i,r,u,f){var o=document.getElementById("topCanvas"),e,s,h,c,l,a,v,y,p,w,b;o.width=window.innerWidth;o.height=300;e=o.getContext("2d");e.save();s=document.createElement("img");s.src="../images/cloud2White.png";s.onload=function(){e.drawImage(s,-150,-70,800,200)};h=document.createElement("img");h.src="../images/cloud2White.png";h.onload=function(){e.drawImage(h,800,-75,800,200)};c=document.createElement("img");c.src="../images/cloud1Gray.png";c.onload=function(){e.drawImage(c,500,-75,400,200)};e.clearRect(0,0,o.width,o.height);l=document.createElement("img");l.src="../images/cloud1Gray.png";l.onload=function(){e.drawImage(l,n,-50,800,200)};a=document.createElement("img");a.src="../images/cloud1Gray.png";a.onload=function(){e.drawImage(a,t,-50,600,120)};v=document.createElement("img");v.src="../images/cloud2Dark.png";v.onload=function(){e.drawImage(v,i,-50,600,150)};y=document.createElement("img");y.src="../images/cloud1Gray.png";y.onload=function(){e.drawImage(y,r,-50,600,200)};p=document.createElement("img");p.src="../images/cloud1Dark.png";p.onload=function(){e.drawImage(p,u,-50,700,200)};w=document.createElement("img");w.src="../images/cloud1Dark.png";w.onload=function(){e.drawImage(w,f,-80,600,250)};e.restore();n+=.7;t+=.4;i+=.9;r+=.8;u+=.4;f+=.3;n>o.width+50&&(n=-600);t>o.width+50&&(t=-600);i>o.width+50&&(i=-600);r>o.width+50&&(r=-600);u>o.width+50&&(u=-600);f>o.width+50&&(f=-600);b=setTimeout("DrawClouds("+n+","+t+","+i+","+r+","+u+","+f+")",100);cloudTimerOn=!0}function DrawThunder(n,t,i,r,u,f){var o=document.getElementById("topCanvas"),e,y,p,w,b,s,h,c,l,a,v,k,d;if(o.width=window.innerWidth,o.height=300,e=o.getContext("2d"),e.save(),y=document.createElement("img"),y.src="../images/cloud2Darkest.png",y.onload=function(){e.drawImage(y,-150,-70,800,200)},p=document.createElement("img"),p.src="../images/cloud2Dark.png",p.onload=function(){e.drawImage(p,800,-75,800,200)},w=document.createElement("img"),w.src="../images/cloud1Dark.png",w.onload=function(){e.drawImage(w,500,-75,400,200)},b=document.createElement("img"),b.src="../images/cloud2Darkest.png",b.onload=function(){e.drawImage(b,-150,-70,800,200)},e.clearRect(0,0,o.width,o.height),s=document.createElement("img"),s.src="../images/cloud1Dark.png",s.onload=function(){e.drawImage(s,n,-50,800,200)},h=document.createElement("img"),h.src="../images/cloud1Darkest.png",h.onload=function(){e.drawImage(h,t,-50,600,120)},c=document.createElement("img"),c.src="../images/cloud2Dark.png",c.onload=function(){e.drawImage(c,i,-50,600,150)},l=document.createElement("img"),l.src="../images/cloud1Dark.png",l.onload=function(){e.drawImage(l,r,-50,600,200)},a=document.createElement("img"),a.src="../images/cloud1Dark.png",a.onload=function(){e.drawImage(a,u,-50,700,200)},v=document.createElement("img"),v.src="../images/cloud1Dark.png",v.onload=function(){e.drawImage(v,f,-80,600,250)},e.restore(),n+=.7,t+=.4,i+=.9,r+=.8,u+=.4,f+=.3,n>o.width+50&&(n=-600),t>o.width+50&&(t=-600),i>o.width+50&&(i=-600),r>o.width+50&&(r=-600),u>o.width+50&&(u=-600),f>o.width+50&&(f=-600),thunderCounter==300){k=Math.floor(Math.random()*6+1);switch(k){case 1:thunderCloud(s);break;case 2:thunderCloud(h);break;case 3:thunderCloud(c);break;case 4:thunderCloud(l);break;case 5:thunderCloud(a);break;case 6:thunderCloud(v)}}thunderCounter++;d=setTimeout("DrawThunder("+n+","+t+","+i+","+r+","+u+","+f+")",100);cloudTimerOn=!0}function thunderCloud(n){var t=document.getElementById("topCanvas"),i=t.getContext("2d");n.src="../images/cloud1White.png";setTimeout(function(){n.src="../images/cloud1Darkest.png"},100);setTimeout(function(){n.src="../images/cloud1White.png"},300);setTimeout(function(){n.src="../images/cloud1Darkest.png"},500);setTimeout(function(){n.src="../images/cloud1White.png"},800);setTimeout(function(){n.src="../images/cloud1Darkest.png"},900);thunderCounter=0}function DrawSnow(){function s(){var e,t;for(n.clearRect(0,0,i,f),n.fillStyle="rgba(255, 255, 255, 0.8)",n.beginPath(),e=0;e<r;e++)t=u[e],n.moveTo(t.x,t.y),n.arc(t.x,t.y,t.r,0,Math.PI*2,!0);n.fill();h()}function h(){var t,n;for(o+=.01,t=0;t<r;t++)n=u[t],n.y+=Math.floor(Math.random()*3+1),(n.x>i||n.x<0||n.y>f-20)&&(u[t]={x:Math.random()*i,y:-10,r:n.r,d:n.d})}var t=document.getElementById("topCanvas"),e,o;t.width=window.innerWidth;t.height=300;var n=t.getContext("2d"),i=t.width,f=t.height,r=100,u=[];for(e=0;e<r;e++)u.push({x:Math.random()*i,y:Math.random()*f,r:Math.random()*4+1,d:Math.random()*r});o=0;setInterval(s,30);DrawSnowClouds(-100,200,-50,300,-800,600)}function DrawSnowClouds(n,t,i,r,u,f){var b=document.getElementById("veryTopCanvas"),e,o,s,h,c,l,a,v,y,p,w,k;b.width=window.innerWidth;b.height=300;e=b.getContext("2d");e.save();o=document.createElement("img");o.src="../images/cloud2Darkest.png";o.onload=function(){e.drawImage(o,-150,-70,800,200)};s=document.createElement("img");s.src="../images/cloud2Dark.png";s.onload=function(){e.drawImage(s,800,-75,800,200)};h=document.createElement("img");h.src="../images/cloud1Dark.png";h.onload=function(){e.drawImage(h,500,-75,400,200)};c=document.createElement("img");c.src="../images/cloud2Darkest.png";c.onload=function(){e.drawImage(c,-150,-70,800,200)};e.clearRect(0,0,topCanvas.width,topCanvas.height);l=document.createElement("img");l.src="../images/cloud1Dark.png";l.onload=function(){e.drawImage(l,n,-50,800,200)};a=document.createElement("img");a.src="../images/cloud1Darkest.png";a.onload=function(){e.drawImage(a,t,-50,600,120)};v=document.createElement("img");v.src="../images/cloud2Dark.png";v.onload=function(){e.drawImage(v,i,-50,600,150)};y=document.createElement("img");y.src="../images/cloud1Dark.png";y.onload=function(){e.drawImage(y,r,-50,600,200)};p=document.createElement("img");p.src="../images/cloud1Dark.png";p.onload=function(){e.drawImage(p,u,-50,700,200)};w=document.createElement("img");w.src="../images/cloud1Dark.png";w.onload=function(){e.drawImage(w,f,-80,600,250)};e.restore();n+=.7;t+=.4;i+=.9;r+=.8;u+=.4;f+=.3;n>topCanvas.width+50&&(n=-600);t>topCanvas.width+50&&(t=-600);i>topCanvas.width+50&&(i=-600);r>topCanvas.width+50&&(r=-600);u>topCanvas.width+50&&(u=-600);f>topCanvas.width+50&&(f=-600);k=setTimeout("DrawSnowClouds("+n+","+t+","+i+","+r+","+u+","+f+")",100);cloudTimerOn=!0}function DrawRain(){function s(){var e,t;for(n.clearRect(0,0,i,f),n.fillStyle="rgba(134, 154, 158, 0.8)",n.beginPath(),e=0;e<r;e++)t=u[e],n.moveTo(t.x,t.y),n.fillRect(t.x,t.y,2,6);n.fill();h()}function h(){var t,n;for(o+=.01,t=0;t<r;t++)n=u[t],n.y+=8,(n.x>i||n.x<0||n.y>f-20)&&(u[t]={x:Math.random()*i,y:-10,r:n.r,d:n.d})}var t=document.getElementById("topCanvas"),e,o;t.width=window.innerWidth;t.height=300;var n=t.getContext("2d"),i=t.width,f=t.height,r=1e3,u=[];for(e=0;e<r;e++)u.push({x:Math.random()*i,y:Math.random()*f,r:Math.random()*4+1,d:Math.random()*r});o=0;setInterval(s,30);DrawRainClouds(-100,200,-50,300,-800,600)}function DrawRainClouds(n,t,i,r,u,f){var w=document.getElementById("veryTopCanvas"),e,o,s,h,c,l,a,v,y,p,b;w.width=window.innerWidth;w.height=300;e=w.getContext("2d");e.save();o=document.createElement("img");o.src="../images/cloud2White.png";o.onload=function(){e.drawImage(o,-150,-70,800,200)};s=document.createElement("img");s.src="../images/cloud2White.png";s.onload=function(){e.drawImage(s,800,-75,800,200)};h=document.createElement("img");h.src="../images/cloud1Gray.png";h.onload=function(){e.drawImage(h,500,-75,400,200)};e.clearRect(0,0,topCanvas.width,topCanvas.height);c=document.createElement("img");c.src="../images/cloud1Gray.png";c.onload=function(){e.drawImage(c,n,-50,800,200)};l=document.createElement("img");l.src="../images/cloud1Gray.png";l.onload=function(){e.drawImage(l,t,-50,600,120)};a=document.createElement("img");a.src="../images/cloud2Dark.png";a.onload=function(){e.drawImage(a,i,-50,600,150)};v=document.createElement("img");v.src="../images/cloud1Gray.png";v.onload=function(){e.drawImage(v,r,-50,600,200)};y=document.createElement("img");y.src="../images/cloud1Dark.png";y.onload=function(){e.drawImage(y,u,-50,700,200)};p=document.createElement("img");p.src="../images/cloud1Dark.png";p.onload=function(){e.drawImage(p,f,-80,600,250)};e.restore();n+=.7;t+=.4;i+=.9;r+=.8;u+=.4;f+=.3;n>topCanvas.width+50&&(n=-600);t>topCanvas.width+50&&(t=-600);i>topCanvas.width+50&&(i=-600);r>topCanvas.width+50&&(r=-600);u>topCanvas.width+50&&(u=-600);f>topCanvas.width+50&&(f=-600);b=setTimeout("DrawRainClouds("+n+","+t+","+i+","+r+","+u+","+f+")",100)}function DrawDrizzleRain(){function o(){var e,t;for(n.clearRect(0,0,i,f),n.fillStyle="rgba(134, 154, 158, 0.8)",n.beginPath(),e=0;e<r;e++)t=u[e],n.moveTo(t.x,t.y),n.arc(t.x,t.y,t.r,0,Math.PI*2,!0);n.fill();s()}function s(){for(var n,t=0;t<r;t++)n=u[t],n.y+=.5,(n.x>i||n.x<0||n.y>f-20)&&(u[t]={x:Math.random()*i,y:-10,r:n.r,d:n.d})}var t=document.getElementById("topCanvas"),e;t.width=window.innerWidth;t.height=300;var n=t.getContext("2d"),i=t.width,f=t.height,r=500,u=[];for(e=0;e<r;e++)u.push({x:Math.random()*i,y:Math.random()*f,r:Math.random()*1,d:Math.random()*r});setInterval(o,30);DrawDrizzleClouds(-100,200,-50,300,-800,600)}function DrawDrizzleClouds(n,t,i,r,u,f){var w=document.getElementById("veryTopCanvas"),e,o,s,h,c,l,a,v,y,p,b;w.width=window.innerWidth;w.height=300;e=w.getContext("2d");e.save();o=document.createElement("img");o.src="../images/cloud2White.png";o.onload=function(){e.drawImage(o,-150,-70,800,200)};s=document.createElement("img");s.src="../images/cloud2White.png";s.onload=function(){e.drawImage(s,800,-75,800,200)};h=document.createElement("img");h.src="../images/cloud1Gray.png";h.onload=function(){e.drawImage(h,500,-75,400,200)};e.clearRect(0,0,topCanvas.width,topCanvas.height);c=document.createElement("img");c.src="../images/cloud1Gray.png";c.onload=function(){e.drawImage(c,n,50,800,200)};l=document.createElement("img");l.src="../images/cloud1Gray.png";l.onload=function(){e.drawImage(l,t,50,800,120)};a=document.createElement("img");a.src="../images/cloud2Dark.png";a.onload=function(){e.drawImage(a,i,100,1200,150)};v=document.createElement("img");v.src="../images/cloud1Gray.png";v.onload=function(){e.drawImage(v,r,100,1100,200)};y=document.createElement("img");y.src="../images/cloud1Dark.png";y.onload=function(){e.drawImage(y,u,100,1200,200)};p=document.createElement("img");p.src="../images/cloud1Dark.png";p.onload=function(){e.drawImage(p,f,100,1200,250)};e.restore();n+=.7;t+=.4;i+=.9;r+=.8;u+=.4;f+=.3;n>topCanvas.width+50&&(n=-600);t>topCanvas.width+50&&(t=-600);i>topCanvas.width+50&&(i=-600);r>topCanvas.width+50&&(r=-600);u>topCanvas.width+50&&(u=-600);f>topCanvas.width+50&&(f=-600);b=setTimeout("DrawDrizzleClouds("+n+","+t+","+i+","+r+","+u+","+f+")",100);cloudTimerOn=!0}function CheckStarChoice(){for(var i,t=document.getElementsByName("stars"),n=0;n<t.length;n++)if(t[n].checked){i=t[n].value;break}switch(i){case"1":document.getElementById("oneStar").style.background="#fcee21";document.getElementById("twoStar").style.background="#423615";document.getElementById("threeStar").style.background="#423615";document.getElementById("fourStar").style.background="#423615";document.getElementById("fiveStar").style.background="#423615";break;case"2":document.getElementById("oneStar").style.background="#fcee21";document.getElementById("twoStar").style.background="#fcee21";document.getElementById("threeStar").style.background="#423615";document.getElementById("fourStar").style.background="#423615";document.getElementById("fiveStar").style.background="#423615";break;case"3":document.getElementById("oneStar").style.background="#fcee21";document.getElementById("twoStar").style.background="#fcee21";document.getElementById("threeStar").style.background="#fcee21";document.getElementById("fourStar").style.background="#423615";document.getElementById("fiveStar").style.background="#423615";break;case"4":document.getElementById("oneStar").style.background="#fcee21";document.getElementById("twoStar").style.background="#fcee21";document.getElementById("threeStar").style.background="#fcee21";document.getElementById("fourStar").style.background="#fcee21";document.getElementById("fiveStar").style.background="#423615";break;case"5":document.getElementById("oneStar").style.background="#fcee21";document.getElementById("twoStar").style.background="#fcee21";document.getElementById("threeStar").style.background="#fcee21";document.getElementById("fourStar").style.background="#fcee21";document.getElementById("fiveStar").style.background="#fcee21"}}function DegToRad(n){var t=Math.PI/180;return n*t}function UpdateCanvasClock(){var i=document.getElementById("indexCanvas"),n=i.getContext("2d");n.strokeStyle="#2c2d30";n.lineWidth=10;n.lineCap="round";n.shadowBlur=10;n.shadowColor="#2c2d30";var t=new Date,h=t.toDateString(),r=t.toLocaleTimeString(),u=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getMilliseconds(),s=e+o/1e3;gradient=n.createRadialGradient(100,100,5,100,100,200);gradient.addColorStop(0,"#CCC");gradient.addColorStop(1,"#98a6bc");n.fillStyle=gradient;n.fillRect(0,0,200,200);n.beginPath();n.arc(100,100,80,DegToRad(270),DegToRad(u*15-90));n.stroke();n.beginPath();n.arc(100,100,60,DegToRad(270),DegToRad(f*6-90));n.stroke();n.beginPath();n.arc(100,100,40,DegToRad(270),DegToRad(s*6-90));n.stroke();n.font="10px Ariel bold";n.fillStyle="#2c2d30";n.fillText(r,75,100)}var coords,homeCurLat,homeCurLong,curLat,curLong,mainWeather,weatherDesc,currentTemp,city,country,weatherIcon,cloudTimerOn,thunderTimerOn,thunderCounter;$(document).ready(function(){GetLocation()});homeCurLat=42.9446;homeCurLong=-81.2108;curLat=0;curLong=0;cloudTimerOn=!1;thunderTimerOn=!1;thunderCounter=0;window.onresize=function(){DrawSky()};setInterval(UpdateCanvasClock,40);